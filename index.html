<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weather History App</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="container">
    <header>
      <div>
        <h1>Weather History</h1>
        <p>View weather data for the past week</p>
      </div>
      <div class="header-actions">
        <button id="refresh-button" class="refresh-button" title="Refresh data">
          <i class="fas fa-sync-alt"></i>
        </button>
        <button id="theme-toggle" class="theme-toggle">
          <i class="fas fa-sun"></i>
          <i class="fas fa-moon"></i>
        </button>
      </div>
    </header>

    <!-- API Key Section -->
    <div id="api-container" class="api-container">
      <div class="api-form">
        <h2>OpenWeatherMap API Key</h2>
        <p>To fetch real weather data, please enter your OpenWeatherMap API key.</p>
        <p class="api-note">Don't have a key? <a href="https://home.openweathermap.org/users/sign_up" target="_blank">Sign up for free</a> and get your API key.</p>
        
        <form id="api-key-form">
          <input type="text" id="api-key-input" placeholder="Enter your API key" required>
          <button type="submit" class="button">Submit</button>
        </form>
      </div>
      
      <div class="api-status">
        <p>Using API key: <span id="api-key-display">••••••••</span></p>
        <button id="change-key" class="text-button">Change key</button>
      </div>
    </div>

    <!-- Loading and Error States -->
    <div id="loading" class="loading-container hidden">
      <div class="loading-spinner"></div>
      <p>Loading weather data...</p>
    </div>

    <div id="error" class="error-container hidden">
      <i class="fas fa-exclamation-circle"></i>
      <p id="error-message">Failed to fetch weather data. Please try again.</p>
    </div>

    <!-- Weather Content -->
    <div id="weather-container" class="weather-container hidden">
      <!-- Current Weather Display -->
      <div class="card current-weather">
        <div class="card-header">
          <div>
            <h2>Today's Weather</h2>
            <p id="current-date">Mon, Apr 15</p>
            <p id="location" class="hidden">New York, US</p>
          </div>
          <p id="estimated-notice" class="estimated-notice hidden">
            <i class="fas fa-info-circle"></i> Estimated data
          </p>
        </div>
        <div class="card-content">
          <div class="weather-main">
            <div class="weather-icon" id="current-icon">
              <i class="fas fa-sun"></i>
            </div>
            <div>
              <h2 id="current-temp">25°C</h2>
              <p id="current-condition">Sunny</p>
              <p id="current-description" class="description">Clear sky</p>
              <p id="feels-like" class="feels-like hidden">Feels like: 27°C</p>
            </div>
            <div class="weather-details">
              <div class="detail-item">
                <i class="fas fa-tint"></i>
                <span>Humidity</span>
                <span id="current-humidity">45%</span>
              </div>
              <div class="detail-item">
                <i class="fas fa-wind"></i>
                <span>Wind</span>
                <span id="current-wind">12 km/h</span>
              </div>
              <div class="detail-item">
                <i class="fas fa-cloud-rain"></i>
                <span>Precipitation</span>
                <span id="current-precipitation">10%</span>
              </div>
            </div>
          </div>

          <div class="temp-range">
            <h3>Temperature Range</h3>
            <div class="range-bar">
              <div class="range-fill"></div>
            </div>
            <div class="range-labels">
              <span id="current-low">15°C</span>
              <span id="current-high">28°C</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Weather History Carousel -->
      <div class="history-section">
        <h2>Last 7 Days</h2>
        <div class="carousel-container">
          <button class="carousel-button prev" id="carousel-prev">
            <i class="fas fa-chevron-left"></i>
          </button>
          <div class="carousel" id="days-carousel">
            <!-- Weather cards will be generated by JavaScript -->
          </div>
          <button class="carousel-button next" id="carousel-next">
            <i class="fas fa-chevron-right"></i>
          </button>
        </div>
      </div>

      <!-- Mobile Navigation -->
      <div class="mobile-nav">
        <button id="prev-day">
          <i class="fas fa-chevron-left"></i>
        </button>
        <span id="mobile-date">Today</span>
        <button id="next-day">
          <i class="fas fa-chevron-right"></i>
        </button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>